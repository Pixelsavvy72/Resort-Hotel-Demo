@{
    ViewBag.Title = "AdminOnly";
 
}

<h2>Admin Control Panel</h2>  

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken();

    <div class="form-horizontal">

        <div class="form-group">

            <div class="col-md-4">
                <input type="button" value="Display All Users" class="btn btn-primary btn-lg btn-block" id="displayAllUsersButton" data-url="@Url.Action("ManageUserPartial", "Home")" />
                <br />
            </div>
            <div class="col-md-4">
                <input type="button" value="User Search By Last Name" class="btn btn-primary btn-lg btn-block " id="displayNamedUserButton"  />
                <br />
                <div id="nameHiddenDiv" style="display: none">
                    <input type="text" id="nameSearchField" placeholder="Guest Last Name" class="form-control" />
                    <input type="button" value="Go" class="btn btn-primary btn-sm" id="buttonPostNameSearch" data-url="@Url.Action("ManageUserPartial", "Home")" />
                 </div>
                <br />
            </div>

            <div class="col-md-4">
                <input type="button" value="User Search By ID Number" class="btn btn-primary btn-lg btn-block " id="displayIdUserButton"  />
                <br />
                <div id="idHiddenDiv" style="display:none">
                    <input type="text" id="IdSearchField" placeholder="Guest ID Number" class="form-control" />
                    <input type="button" value="Go" class="btn btn-primary btn-sm" id="buttonPostIdSearch" data-url="@Url.Action("ManageUserPartial", "Home")" />
                    <br />
                </div>
            </div>
        </div>

        <div class="form-group">

            <div class="col-md-4">
                <input type="button" value="Create New User" class="btn btn-primary btn-lg btn-block disabled" id="createUserButton" />
                <br />
            </div>
            <div class="col-md-4">
                <input type="button" value="Search for Reservation" class="btn btn-primary btn-lg btn-block disabled" id="DisplayReservationButton" />
                <br />
            </div>
            <div class="col-md-4">
                <input type="button" value="Add Reservation" class="btn btn-primary btn-lg btn-block disabled" id="makeReservationButton" />
                <br />
            </div>
        </div>

    </div>


}

<div id="divUserListContainer">

</div>

<script>
    //Get All Users Button
    $(function() {
        $('#displayAllUsersButton').click(function () {
            $.ajax({
                url: $(this).data('url'),
                type: 'GET',
                cache: false,
                success: function(result) {
                    $('#divUserListContainer').html(result);
                }
            });
            return false;
        });
    });

    //Get Named Users
    $(function () {
        $('#buttonPostNameSearch').click(function () {
            var name = $('#nameSearchField').val();
            $.ajax({
                url: $(this).data('url')+ '?name=' + name,
                type: 'GET',
                cache: false,
                success: function (result) {
                    $('#divUserListContainer').html(result);
                }
            });
            return false;
        });
    });

    //Get User By User ID
    $(function () {
        $('#buttonPostIdSearch').click(function () {
            var id = $('#IdSearchField').val();
            $.ajax({
                url: $(this).data('url') + '?id=' + id,
                type: 'GET',
                cache: false,
                success: function (result) {
                    $('#divUserListContainer').html(result);
                }
            });
            return false;
        });
    });

    //Press enter functionality on buttons

    $('#nameHiddenDiv').keypress(function (e) {
        if (e.keyCode == 13)
            $('#buttonPostNameSearch').click();
    });

    $('#idHiddenDiv').keypress(function (e) {
        if (e.keyCode == 13)
            $('#buttonPostIdSearch').click();
    });

    //Display hidden fields on button click

    $(function () {
        $('#displayNamedUserButton').click(function () {
            $("#nameHiddenDiv").fadeToggle(200);
        });
    });

    $(function () {
        $('#displayIdUserButton').click(function () {
            $("#idHiddenDiv").fadeToggle(200)
        });
    });


</script>




@Html.ActionLink("Sign Out", "SignOut", "Account") | 
@Html.ActionLink("Return to Home", "Index", "Home")
